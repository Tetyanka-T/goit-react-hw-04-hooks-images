(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__33u04",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__JOIjA"}},24:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1CBjw",Modal:"Modal_Modal__eHHo7"}},36:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2JqD0"}},37:function(e,t,a){e.exports={Button:"Button_Button__1LytK"}},44:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(13),i=a.n(o),s=(a(44),a(7)),u=a.n(s),l=a(25),m=a(15),b=a(6),h=a(26),j=a(35),d=a(39),f=a(20),g=a(38),p=Object(f.a)(n||(n=Object(j.a)(["\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n"]))),_=Object(d.a)(g.a,{target:"e1rnxmx10"})("animation:",p," 1s linear infinite;position:fixed;display:flex;justify-content:center;align-items:center;width:100vw;height:100wh;"),O=a(8),x=a.n(O),v=a(1);var S=function(e){var t=e.onSearch;return Object(v.jsx)("header",{className:x.a.Searchbar,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e.target.elements.searchImage.value)},className:x.a.SearchForm,children:[Object(v.jsx)("button",{type:"submit",className:x.a.SearchForm_button,children:Object(v.jsx)("span",{className:x.a.SearchForm_button_label,children:"Search"})}),Object(v.jsx)("input",{className:x.a.SearchForm_input,type:"text",name:"searchImage",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},y=a(22),I=a.n(y),w=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:1,I.a.defaults.baseURL="https://pixabay.com/api/",n="21724467-4ce0638ba06e77e7c079dfe7e",e.next=5,I.a.get("/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat(n));case 5:return r=e.sent,c=r.data.hits,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=a(23),k=a.n(F);function G(e){var t=e.image,a=e.openLargeImage;return Object(v.jsx)("li",{className:k.a.ImageGalleryItem,onClick:function(){return a(t)},children:Object(v.jsx)("img",{src:t.webformatURL,alt:t.tag,className:k.a.ImageGalleryItem_image})},t.id)}var N=a(36),L=a.n(N);function C(e){var t=e.images,a=e.openLargeImage;return Object(v.jsx)("ul",{className:L.a.ImageGallery,children:t.map((function(e){return Object(v.jsx)(G,{image:e,openLargeImage:a},e.id)}))})}var B=a(37),E=a.n(B);function M(e){var t=e.onClick;return Object(v.jsx)("button",{type:"button","data-action":"load-more",className:E.a.Button,onClick:function(e){return t()},children:"Load more"})}var J=a(24),q=a.n(J),z=document.querySelector("#modal-root");function D(e){var t=e.children,a=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&a()};return Object(o.createPortal)(Object(v.jsx)("div",{className:q.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(v.jsx)("div",{className:q.a.Modal,children:t})}),z)}var H=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(b.a)(c,2),i=o[0],s=o[1],j=Object(r.useState)(1),d=Object(b.a)(j,2),f=d[0],g=d[1],p=Object(r.useState)("idle"),O=Object(b.a)(p,2),x=O[0],y=O[1],I=Object(r.useState)(!1),F=Object(b.a)(I,2),k=F[0],G=F[1],N=Object(r.useState)({}),L=Object(b.a)(N,2),B=L[0],E=L[1];Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y("pending"),e.next=4,w(a,f);case 4:if((t=e.sent).length){e.next=7;break}throw new Error;case 7:s((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),y("resolved"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),y("rejected"),h.b.error("Not found");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}a&&(!function(){e.apply(this,arguments)}(),f>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}),[f,a]);var J=function(){n(null),s([]),g(1),y("idle")},q=function(){G((function(e){return!e}))};return Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{onSearch:function(e){J(),n(e)}}),"pending"===x&&Object(v.jsx)(_,{size:"50",color:"blue"}),Object(v.jsx)(C,{images:i,openLargeImage:function(e){E(e),q()}}),Object(v.jsx)(h.a,{}),i.length>0&&Object(v.jsx)(M,{onClick:function(){g((function(e){return e+1}))}}),k&&Object(v.jsx)(D,{onClose:q,children:Object(v.jsx)("img",{src:B.largeImageURL,alt:B.tags})})]})};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(H,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__l5NXz",SearchForm:"Searchbar_SearchForm__yTcnv",SearchForm_button:"Searchbar_SearchForm_button__uGJDw","SearchForm-button":"Searchbar_SearchForm-button__BPQBm",SearchForm_button_label:"Searchbar_SearchForm_button_label__36Zx0",SearchForm_input:"Searchbar_SearchForm_input__3Aae4"}}},[[68,1,2]]]);
//# sourceMappingURL=main.ee1916a3.chunk.js.map