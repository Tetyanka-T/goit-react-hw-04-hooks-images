{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","services/api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","spin","keyframes","Spinner","CgSpinner","Searchbar","onSearch","className","s","onSubmit","e","preventDefault","target","elements","searchImage","value","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","autoComplete","autoFocus","placeholder","fetchImage","a","page","axios","defaults","baseURL","autKey","get","response","images","data","hits","ImageGalleryItem","image","openLargeImage","onClick","src","webformatURL","alt","tag","ImageGalleryItem_image","id","ImageGallery","map","Button","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","App","useState","setSearchImage","setImages","setPage","reqStatus","setReqStatus","showModal","setShowModal","largeImage","setLargeImage","length","Error","prevState","toast","error","onFetchImage","scrollTo","top","documentElement","scrollHeight","behavior","reset","toggleModal","state","size","color","largeImageURL","tags","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee1916a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__33u04\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__JOIjA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1CBjw\",\"Modal\":\"Modal_Modal__eHHo7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JqD0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1LytK\"};","import styled from '@emotion/styled/macro';\r\nimport { keyframes } from '@emotion/react';\r\nimport { CgSpinner } from 'react-icons/cg';\r\n\r\nconst spin = keyframes`\r\n0% {\r\n  transform: rotate(0deg);\r\n}\r\n100% {\r\n  transform: rotate(1turn);\r\n}\r\n`;\r\n\r\nexport const Spinner = styled(CgSpinner)`\r\n  animation: ${spin} 1s linear infinite;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100wh;\r\n`;\r\n","import s from 'components/Searchbar/Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSearch }) {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.searchImage.value);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSearch} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          name=\"searchImage\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nexport const fetchImage = async (searchImage, page = 1) => {\r\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\r\n  const autKey = '21724467-4ce0638ba06e77e7c079dfe7e';\r\n\r\n  const response = await axios.get(\r\n    `/?image_type=photo&orientation=horizontal&q=${searchImage}&page=${page}&per_page=12&key=${autKey}`,\r\n  );\r\n  const images = response.data.hits;\r\n  return images;\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image, openLargeImage }) {\r\n  return (\r\n    <li\r\n      key={image.id}\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => openLargeImage(image)}\r\n    >\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tag}\r\n        className={s.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, openLargeImage }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            openLargeImage={openLargeImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  openLargeImage: PropTypes.func.isRequired,\r\n};\r\n","import s from 'components/Button/Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  const onloadMore = e => onClick();\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      data-action=\"load-more\"\r\n      className={s.Button}\r\n      onClick={onloadMore}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { createPortal } from 'react-dom';\r\nimport s from 'components/Modal/Modal.module.css';\r\nimport { useEffect } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ children, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n  const handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackDropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\n\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Spinner } from 'components/Loader/Loader';\nimport SearchBar from 'components/Searchbar/Searchbar';\nimport { fetchImage } from 'services/api';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nfunction App() {\n  const [searchImage, setSearchImage] = useState(null);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [reqStatus, setReqStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState({});\n\n  useEffect(() => {\n    if (!searchImage) {\n      return;\n    }\n    async function onFetchImage() {\n      try {\n        setReqStatus('pending');\n\n        const images = await fetchImage(searchImage, page);\n\n        if (!images.length) {\n          throw new Error();\n        }\n\n        setImages(prevState => [...prevState, ...images]);\n        setReqStatus('resolved');\n      } catch (err) {\n        setReqStatus('rejected');\n        toast.error('Not found');\n      }\n    }\n    onFetchImage();\n\n    page > 1 &&\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }, [page, searchImage]);\n\n  const onLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleSearchChange = searchImage => {\n    reset();\n    setSearchImage(searchImage);\n  };\n\n  const reset = () => {\n    setSearchImage(null);\n    setImages([]);\n    setPage(1);\n    setReqStatus('idle');\n  };\n\n  const toggleModal = () => {\n    setShowModal(state => !state);\n  };\n\n  const handleOpenImage = largeImage => {\n    setLargeImage(largeImage);\n    toggleModal();\n  };\n\n  return (\n    <div>\n      <SearchBar onSearch={handleSearchChange} />\n      {reqStatus === 'pending' && <Spinner size=\"50\" color=\"blue\" />}\n      <ImageGallery images={images} openLargeImage={handleOpenImage} />\n      <Toaster />\n      {images.length > 0 && <Button onClick={onLoadMore} />}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__l5NXz\",\"SearchForm\":\"Searchbar_SearchForm__yTcnv\",\"SearchForm_button\":\"Searchbar_SearchForm_button__uGJDw\",\"SearchForm-button\":\"Searchbar_SearchForm-button__BPQBm\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__36Zx0\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3Aae4\"};"],"sourceRoot":""}